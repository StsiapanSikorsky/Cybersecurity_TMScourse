# Занятие 7 - типы атак, OWASP top 10
## 1) Broken Access Control
Существует три типа контроля доступа:
- Вертикальный контроль доступа
- Горизонтальный контроль доступа
- Контекстно-зависимый контроль доступа  

Суть уязвимости Broken Access Control заключается в нарушении принципа получения доступа, разными пользователями.   
Нарушение горизонтального контроля доступа позволит злоумышленнику получить несанкционированный доступ к пользовательским данным других пользователей.  
Нарушение вертикального контроля доступа позволит злоумышленнику повысить свои права доступа.

### Уязвимости Broken Access Control:
- нарушение принципа наименьших привелегий;
- можно обойти проверки контроля доступа;
- можно повысить свои привилегии в системе;
- есть возможность осуществить манипуляцию метаданными веб-токенов или файлов Cookie;
- можно получить несанкционированный доступ к API;
- force - browsing авторизованных страниц.

### Защита Broken Access Control
- реализация принципа наименьших привелегий;
- реализация и проектирование нужной модели доступа;
- проверка доступа при каждом запросе;
- отключение листинга директорий;
- всё должно тчательно логироваться;
- функциональное и интеграционное тестирование механизмов управления доступом;
- удаление старых учетных записей;
- удаление ненужных служб.


## 2) Cryptographic Failrules
Cryptographic Failrules - типы атак нацеленные на персональные данные пользователя (пароли, номера карт и т.д.), и связанные с криптографическими уязвимостями и неправильным хранением данных в коде программ (когда пароль жестко забит в переменную).

### Уязвимости Cryptographic Failrules
- хранение и передача данных в незашифрованном виде;
- использование устаревших криптографических алгоритмов и протоколов;
- использование слабых ключей, отсутствие управления и ротации ключей (keepas);
- некорректная проверка цепочки доверия сертификатов;
- алгоритмы с низкой энтропией;
- использование небезопасных режимов шифрования;
- захардкоженные пароли.

### Защита Cryptographic Failrules
- использование современных стандартных механизмов шифрования и надежных ключей (AES-256-GCM, ECC-25519, RSA-2048);
- передача данных по безопасным протоколам;
- где необходимо, использовать криптографически безопасный генератор псевдослучайных чисел (getrandom, java.Security.SecureRandom,secrets);
- отключение кеширование чувствительных данных;
- организовать управление ключами;
- хранить пароли с помощью безопасных хеш-функций (Argon2, scrypt, bcrypt, PBKDF2);
- не реализовывать алгоритмы самостоятельно.

## 3) SQL-Injections
SQL-Injection - вид атак, представляющий собой изменение SQL-запроса сайта, и вмешательства злоумышленника в базу данных сервиса.

### Защита SQL-Injections
- использование параметризованных интерфейсов (PreparedStatement(), SqlCommand(), sqlite3_prepare());
- валидация данных по белым спискам;
- политика обработок ошибок;
- использование LIMIT.


## 4) Insequre Design
Insequre Design - недостаток дизайна ПО, который может сделать приложение уязвимым для атак.

### Уязвимости Insequre Design
- незащищенное хранение учетных данных;
- нарушение границ доверия;
- сообщения об ошибках содержат чувствительную информациб.

### Защита Insequre Design
- использование безопасного жизненного цикла ПО (безопасность должна учитываться во время всего жизненного цикла, начиная от проектирования и заканчивая эксплуатацией);
- использование проверенных и надежных шаблонов проектирования; 
- создание модели угроз;
- написание интеграционных и модельных тестов для проверки кейсов;
- ограничение потребления ресурсов пользователями и системой.


## Security Misconfiguration
